<!doctype html>
<html lang="jp">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Processing satolab</title>
    
    <link rel="stylesheet" href="main.css">
</head>


<body>
    <!--ホームに帰るためのボタン-->
    <logotohome>
    <a href="index.html"><img src="images/satolab,logo.png" alt=""></a>
    </logotohome>

    <!--h1は見出し１（大見出し）-->
    <h1>Processing学習の足跡</h1>
    <h2>●Processingとはどんなもの</h2>
    <p><b>Processing（プロセシング）</b>：電子アートとビジュアルデザインのためのプログラミング言語であり、統合開発環境である。<br>
        アーティストによるコンテンツ制作作業のために、詳細な設定を行う関数を排除している。 視覚的なフィードバックが即座に得られるため、<br>
        初心者がプログラミングを学習するのに適しており、電子スケッチブックの基盤としても利用できる。Javaを単純化し、グラフィック機能に特化した言語といえる。（Wikipedia)<br><br>
        <b>常に左上のRunボタン→プログラミングが実行→Stopボタン→プログラミングが停止</b></p><br>
    <h3>・size() ウインドウのサイズを指定する</h3>
    <p><b>size(1280, 720);</b><br><br>
        ウインドウサイズをピクセル毎にサイズを選択することができる。<br>
        この例はHDサイズである1280×720のサイズにする。
    <h3>・background() ウインドウの色を変更する</h3>
    <p><b>background(255);</b><br><br>
        ウインドウのバックの色を変えることができる。<br>
        この関数を使わない場合だとグレーになる。255はホワイトである。
    <h3>・rect() 長方形・正方形を描く</h3>
    <p><b>rect(60, 80, 240, 180);</b><br><br>
        「左上の点が(60,80)で幅240ピクセルで高さ180ピクセルの図形」という意味<br>
        <img src="images/processing1-1.png"><br>
        <img src="images/processing1-3.png">
    <h3>・setup(){}とdraw(){}</h3>
    <p>void setupとは、スケッチが実行された時に最初に一回行われる動作<br>
    void drawとは、setupの次に連続して行われる処理</p>
    <h2>●Processing上でjpegを表示させ、画像をスライドさせる</h2>
    <p>道用先生からインターフェイス作成に向けての道筋を立てていただき、最初はインターフェイスにおける先生表示画面での画像(jpeg)を切り替えを最初に作成をします。<br>
    <h3>・Processing上で画像を表示する</h3>
    <p>Processing上で画像を表示させるにはまず、pngかjpegまたはGIFの画像を用意しデスクトップに置く。<br>
        その後に使用するスケッチ上に画像をドラッグする。すると<b>スケッチ→スケッチフォルダーを開く→data</b>に先ほどの画像データが入っていたら完璧。<br>
		（あくまでProcessingはグラフィックを扱ったりする環境だから対応するファイルも多い。のかも）<br>
    <h3>・PImage 画像を扱うクラス</h3>
    <p>画像を扱うためのクラスで画像の読み込みにはloadImage()関数を使う。<br><br>
        // PImage型の変数photoにファイル名を読み込む<br>
        <b>PImage photo = loadImage("画像のファイル名");</b><br>
        // 画像を表示<br>
        <b>image(photo, 0, 0);</b><br>
        // インターネットから拝借してくる<br>
        <b>PImage photo = loadImage("うぇぶのURL");</b>
        <br>
        <p>しかし、、<br>
            画像を表示する方法は理解できたが、表示した画像を切り替えて違う画像にするという方法ができない。というよりはProcdssingでそのような使い方を想定していないためにそのような関数あるいは機能が備わっていない。この打開策としては、Processingにある様々な機能を掛け合わせて、画像を切り替える動きを作るのがプログラミングだと思うが、それを行う知識がないためできませんでした。<br>
            <p>（例）キーボードのtabかaで切り替えをする。はずだったが切り替わらず。そもそもあっているのか
            <img src="images/processing1-2.png">
                <p>そこでやむを得ないと考え、参考書ではなくインターネットで検索をかけてみたところ、いくつか方法がありました。<br>
                    そのままコピペではなく、その内容からどうしてこう動作するのかをくみ取って自分の勉強のためにしたいと思います。（この方法は自分でも気がひけるので今後はしないようにします）
    <h3>・変数</h3>
    <p><b>変数</b>：プログラミングで使うデータの入れ物のこと。<br>
        変数を使うには変数の名前とそのデータ型を組にして「宣言」する必要がある。変数にはデータ型というのに分かれ、入れられるデータに制限がある。<br>
        （intは整数値, floatは小数値, Stringは文字列, booleanは真偽値, colorは色, charは一文字の文字データ）<br><br>
        // int型の変数 value1 を宣言<br>
        <b>int value1;</b><br>
        // int型の変数 value2 を宣言し、71という値を代入<br>
        <b>int value2 = 72;</b><br><br>
        つまり、<b>データ型 変数名；</b>か <b>データ型 変数名 = 初期値；</b>で表される。
    <h3>・配列</h3>
    <p><b>配列</b>：似たような複数の変数をプログラミングで制御したい場合は「配列」を利用する。<br>
        例えば、「こんにちは。朝ごはんは 食べましたか？」<br>
        という会話中の単語を用いて何かプログラムを書こうとする時に配列を用いない場合は、<br><br>
        
        String s0 = "こんにちは。";<br>
        String s1 = "朝ごはんは";<br>
        String s2 = "食べましたか？";<br><br>
        と一つずつ変数に代入する必要があるが、配列を利用すると、<br><br>
        <b>String[] chat = {"こんにちは。", "朝ごはんは", "食べましたか"};</b><br><br>
        というようにまとめて代入することができる。配列には「インデックス」と呼ばれる０から始まる番地があり、順に値が代入される。<br>
        配列を使うことによって、"こんにちは"を使いたいときには、<br><br>
        <b>String[] chat = {"こんにちは。", "朝ごはんは", "食べましたか"};<br>
           text(chat[0], 0, 50);</b><br><br>
        このようにすれば、画面中央に「こんにちは」と表示される。<b>chat[0]は「配列chat0番目の値（こんにちは）」</b>ということになる。<br><br>
        
        ・ここまではわかるがだんだん難しくなって来た印象。。でもゆっくりながらちゃんと理解できているので楽しいです(はじめて！)
    <h3>・newを配列の前に置く意味</h3>
    <p>変数を準備する場合は全体の名前を「x」にする場合、<b> int x;</b>で済むのだが、配列の場合は、<br><br>
        <b>int[] x;</b><br><br>
        と[]をつけて宣言をしてあげる。これは「xという名前は整数の配列だよ」と名前を宣言しただけだから、これでは配列としては使えない。そこで、配列を実際に作るのが<b>new</b>という命令。これで箱を何個並べるかを指定することができる。<br><br>
        x = <b>new</b> int[20];<br><br>
        これによって各番号を使う際には何番目にの配列を使うか指定する。これを「配列の要素」という。<br>
        int[] x = new int[] に略せそう。
    <h3>・for文</h3>
    <p>インデックスは０から始まる整数の連番なのでfor文が使いやすい。例えば、配列の全ての値を表示したい場合はこのようにかける。<br><br>
        String[] chat = {"こんにちは。", "朝ごはんは", "食べましたか"};<br>
        <b>for (int i = 0; i < chat.lenght; i++){ <br>
            text(chat[i], random(width), random(height)); } </b><br><br>
        「 for (int i = 0; i < chat.lenght; i++){ 」で、for命令に繰り返しの条件を指定し、繰り返しの命令を開始する。<br>
        引数で指定された「 for (int i = 0; i < chat.lenght; i++){ 」はセミコロンで区切られた三つの文でできていて、<br>
        「ループ初期化」「ループ継続条件」「ループ更新」を指定している。<br><br>
        「ループ初期化」は、繰り返しの最初に一度だけ実行される文で、「継続条件」は、評価の結果が真ならば文が実行される。「更新」では各回の処理の最後に実行される文の意味を表す。<br><br>
        <img src="images/processing1-4.png">
        <p>・最初にこれを見たときには全く理解できなかったが、一個ずつ汲み取っていくことでひとつひとつの意味が理解できるようになった。今では見たものを理解するのに精一杯だがそれがパズル要素となって楽しいという気持ちになっている。これからは一から自分で書いて完成させた後の達成感を味わってみたい。
    <h2>●パワーポイントをpngに変換し表示、決まった文字をクリックと同時に表示する</h2>
    <p>インターフェイス完成に向けて、カタチを作っていきます。<br>
        パワーポイントをpngに変換させてその変換したファイルのままProcesing上に表示するしてクリックでスライドが切り変わる仕組みと、ある決まった言葉をクリックと同時に表示する仕組みを作る。
    <h3>・パワーポイントをpngファイルに変換する</h3>
    <p>Processingではパワーポイント(pptx)を表示することができない(自分がわからないだけかも)ので、pngファイルに変換します。<br>
        パワーポイントで<b>ファイル→プリント→プレビューで表示→書き出す</b>でpngファイルに書き出すことができる。<br>
        ・できなかった事<br>
        パワポのスライドが複数枚あるときにpngファイルに変換してそのままProcessingに入れると表示することができない。<br>
        そのため、一枚一枚pngファイルに変換し直してProcessingに入れる作業をしました。他の方法がわかったら書きます。
        <br><img src="images/processing1-6.png">
    <h3>・クリックと同時にスライドを変更する</h3>
	<p><b>mouseReleased()</b> はマウスのボタンが離された時にいつも反応する。<br>
		pngファイルなどの画像の入れ方は上記(PImageクラス)と同じように行なった。
    <img src="images/processing1-7.png">
	<h3>・決まった文字をクリックと同時に入力する</h3>
	<p>pngファイルのスライドを表示している隣で決まった文字を表示する。<br>
		複数の言葉"HALLO", "THANK"を配列に入れ、クリックと同時に<b>keyPressed</b>を用いて表示する仕組みを作る。と考えた。<br>
		が、実行してみるとスライドしか表示されない。<br><br>
		原因を考えると、<br>
		①すでに配列があるから混合してしまっている。<br>
		②そもそも書き方が間違っている。<br>
		<img src="images/processing1-8.png">
	<h3>→解決 (決まった文字をクリックと同時に入力する)</h3>
		<p>上記が実行できなかった原因<br>
			①printlnで変数moziをキーが押されたら表示するという単純な文で大丈夫だった。<br>
			②ハローのスペルが間違っていた。<br>
			→追記(12/20) 上のプログラムが動かなかったのは、keyPressedのkが大文字になっていたからと判明。(道用先生ご指摘ありがとうございます。)
			<br><img src="images/processing1-9.png">
	</p>
	<h2>●jpegのスライドと文字を表示させる二つの機能を一画面で同時に行わせる</h2>
	<p>上記で行なったマウスクリックでjpegのスライド移動をさせる機能とキーボードクリックで文字の表示をさせる機能を同時に行います。
	<h3>・単純に二つを掛け合わせてみる</h3>
	<p>二つのスケッチを一つにまとめてみます。この時に注意したのは、<br>
		①スライドと文字の表示する座標(位置)が被ってしまうといけないので、スライド(0,0)の位置でサイズは(720,576)で、文字は(850,100)の位置にしました。<br>
		②あと必ず新しいスケッチにもスケッチフォルダーに画像を入れておきます。(
The file [ファイル名] is missing or inaccessible, make sure the URL is valid or that the file has been added to your sketch and is readable.　というエラーが出てくる。)<br>
		<img src="images/processing1-10.png"><br>
		すると、<b>ArrayIndexOutOfBoundsException: 5</b>というエラーが出てくる。<br><br>
		<b>考察</b><br>
		①「text(chat[mozi], 900, 100);」が原因か？<br>
		② jpegのスライドではifによる繰り返しが行われているが、テキストの場合は繰り返しが行われておらず、そこで失敗している可能性<br>
		　(テキストエリアにて1,2,3,4,5以降にこのメッセージが表示されているため)<br>
		→<b>ArrayIndexOutOfBoundsException</b>というエラーはjavaなどでよく出るエラーで、配列のインデックスとして存在しない要素を指定した場合に発生するエラー。<br>
		1から10のインデックスしかないところ、20のインデックスに値を設定しようとする場合などに発生する。
	<h3>・１度一言コメントだけ表示させてみる</h3>
	<p>考察②を潰すために、クリックと同時にいくつものコメントを表示させるのはなく一言だけ表示できるか試してみる。<br>
		テキストを表示させるには <b>text()関数</b> を用いる。キーを押すと命令が実行される<b>keyPressed</b>を使用する。<br>
		<img src="images/processing1-13.png"><br>
		<img src="images/processing1-14.png"><br>
		実行すると、本来やりたかったマウスクリックでスライドの移動とキークリックで文字の表示ができた。<br>
		つまり、考察②のテキストの繰り返し関係が上手に機能していないことが明らかになった。
	<h3>・キーボードクリックの文字表示を解決する</h3>
	<p>道用先生がこの考察②を解決していただいたので、自分の言葉で読み取っていきます。<br>
		<img src="images/processing1-15.png"><br>
		<a href="file/kakeawase.pde">pdeファイルをdownload</a>　←ここからソースコードをpdeファイルでdownloadできます。
	<h3>・問題点と解決</h3>
	<p><b>int mozi = =1</b>
		<b>void draw()<br>
		   if (mozi>-1)</b><br>
			→変数moziを宣言し、その中に-1を代入する。これによりif文を使えるようにする。<br><br>
		<b>int strY = 70</b><br>
		→前回までの一言コメントを出すだけのtextでは一つずつにY座標を指定していたので、変数として位置づけることによって、連続して文字が表示された時に順に下に表示されるようになった。
	<h2>●split()を用いて文字列を分割して表示する</h2>
	<p>これまで文字の表示の仕方は、<b>配列</b>の中に言葉を一つずつ入れていき順番に表示する仕組みだったが、今後のサーバー上で文字を拾ってきて表示することを考えて、<b>split()</b>を使えるようにする。<br><br>
		<b>split()</b>：文字列を指定された正規表現に一致する位置で分割する。<br><br>
		
		String str = "りんご,レモン,すいか,ぶどう";<br>
		String[] fruit = str.split(",", 0);<br><br>
		これを実行すると、<br>
		fruit[0] = "りんご";<br>
		fruit[1] = "レモン"; ...以下略<br><br>
		
		このように、対象となる文字列を指定した区切り文字によって分割してそれぞれを配列の要素として格納する。
	<h3>・これまでできたスケッチにsplitを使ってみる。</h3>
	<p>今までは、String[] chat = {"HELLO", "THANK","I Love U","SatoYuto"};　と、文字をダブルクォーテーションでくくっていたが、<b>セミコロンで文字をつないで</b>スケッチしてみる。<br><br>
		String str = "THANK, YOU, Hello, Good, I LOVE U";<br>
		String[] chat = str.split(",", 0);<br><br>
		これにより一文でつないだ文がダブルクォーテーションでくくってあるものを一つの配列の要素として取り出してくれている。<br><br>
		<img src="images/processing1-16.png"><br><br>
		<a href="file/sketch_split.pde">pdeファイルをdownload</a>
	<h2>●loadStrings()を用いて、ファイルやURLから文字列を表示する</h2>
	<p><b>loadStrings()</b>：ファイルの内容かurlを読み込み、各々の行の文字の配列をつくる。<br><br>
	サーバーのやりとりによるリアルタイムのチャットシステム実現のために、まずはインターネットから文字を拾ってくるだけの方法を挑戦してみる。<br><br>
		
</body>
